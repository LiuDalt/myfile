<!DOCTYPE html>
<!-- saved from url=(0037)http://www.jianshu.com/p/90487b60c733 -->
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
<script type="text/javascript" src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/1255494d3a"></script><script src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/nr-998.min.js.下载"></script><script src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/push.js.下载"></script><script async="" src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/analytics.js.下载"></script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"1255494d3a","applicationID":"15702971","transactionName":"e1daR0JWVV9RER9ZWkxdRxxDUVZE","queueTime":8,"applicationTime":147,"agent":""}</script>
<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(){}function o(e,t,n){return function(){return i(e,[(new Date).getTime()].concat(u(arguments)),t?null:this,n),t?void 0:this}}var i=e("handle"),a=e(2),u=e(3),c=e("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var s=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit"],l="api-",p=l+"ixn-";a(s,function(e,t){f[t]=o(l+t,!0,"api")}),f.addPageAction=o(l+"addPageAction",!0),f.setCurrentRouteName=o(l+"routeName",!0),t.exports=newrelic,f.interaction=function(){return(new r).get()};var d=r.prototype={createTracer:function(e,t){var n={},r=this,o="function"==typeof t;return i(p+"tracer",[Date.now(),e,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return t.apply(this,arguments)}finally{c.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){d[t]=o(p+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,(new Date).getTime()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(o<0?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?c(e,u,i):i()}function n(n,r,o){if(!p.aborted){e&&e(n,r,o);for(var i=t(o),a=v(n),u=a.length,c=0;c<u;c++)a[c].apply(i,r);var f=s[w[n]];return f&&f.push([y,n,r,i]),i}}function d(e,t){b[e]=v(e).concat(t)}function v(e){return b[e]||[]}function g(e){return l[e]=l[e]||o(n)}function m(e,t){f(e,function(e,n){t=t||"feature",w[n]=t,t in s||(s[t]=[])})}var b={},w={},y={on:d,emit:n,get:g,listeners:v,context:t,buffer:m,abort:a,aborted:!1};return y}function i(){return new r}function a(){(s.api||s.feature)&&(p.aborted=!0,s=p.backlog={})}var u="nr@context",c=e("gos"),f=e(2),s={},l={},p=t.exports=o();p.backlog=s},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!h++){var e=y.info=NREUM.info,t=l.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return f.abort();c(b,function(t,n){e[t]||(e[t]=n)}),u("mark",["onload",a()],null,"api");var n=l.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function o(){"complete"===l.readyState&&i()}function i(){u("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var u=e("handle"),c=e(2),f=e("ee"),s=window,l=s.document,p="addEventListener",d="attachEvent",v=s.XMLHttpRequest,g=v&&v.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:v,REQ:s.Request,EV:s.Event,PR:s.Promise,MO:s.MutationObserver},e(1);var m=""+location,b={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-998.min.js"},w=v&&g&&g[p]&&!/CriOS/.test(navigator.userAgent),y=t.exports={offset:a(),origin:m,features:{},xhrWrappable:w};l[p]?(l[p]("DOMContentLoaded",i,!1),s[p]("load",r,!1)):(l[d]("onreadystatechange",o),s[d]("onload",r)),u("mark",["firstbyte",a()],null,"api");var h=0},{}]},{},["loader"]);</script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="description" content="最近做项目需要做一个类似微博个人主页的界面，有个向上滑动隐藏头像部分view，然后下面的Tab滑动到顶部，所以研究了下Android两个新的布局控件CollapsingToolbarLayout和TabLayout的使用，先上图：11111111111111.pngAppBarLayout是继承LinerLayout实现的一个ViewGroup容器组件，它是为了MaterialDesign设计的AppBar，支持手势滑动操作。默认的AppBarLayout是垂直方向的，它的作用是把AppBarLayout包裹的内容都作为AppBar。Col...">
  <meta property="wb:webmaster" content="294ec9de89e7fadb">
  <meta property="qc:admins" content="104102651453316562112116375">
  <meta property="qc:admins" content="11635613706305617">
  <meta property="qc:admins" content="1163561616621163056375">
  <meta name="google-site-verification" content="cV4-qkUJZR6gmFeajx_UyPe47GW9vY6cnCrYtCHYNh4">
  <meta name="google-site-verification" content="HF7lfF8YEGs1qtCE-kPml8Z469e2RHhGajy6JPVy5XI">
  <meta http-equiv="mobile-agent" content="format=html5; url=http://www.jianshu.com/p/90487b60c733">
    <!--  Meta for Smart App Banner -->
  <meta name="apple-itunes-app" content="app-id=888237539, app-argument=jianshu://notes/4404338">
  <!-- End -->

  <!--  Meta for Twitter Card -->
  <meta content="summary" property="twitter:card">
  <meta content="@jianshucom" property="twitter:site">
  <meta content=" Material Design之CollapsingToolbarLayout  和 TabLayout使用" property="twitter:title">
  <meta content="最近做项目需要做一个类似微博个人主页的界面，有个向上滑动隐藏头像部分view，然后下面的Tab滑动到顶部，所以研究了下Android两个新的布局控件CollapsingToolbarLayout和TabLayout的使用，先上图：11111111111111.pngAppBarLayout是继承LinerLayout实现的一个ViewGroup容器组件，它是为了MaterialDesign设计的AppBar，支持手势滑动操作。默认的AppBarLayout是垂直方向的，它的作用是把AppBarLayout包裹的内容都作为AppBar。Col..." property="twitter:description">
  <meta content="http://www.jianshu.com/p/90487b60c733" property="twitter:url">
  <!-- End -->

  <!--  Meta for OpenGraph -->
  <meta property="fb:app_id" content="865829053512461">
  <meta property="og:site_name" content="简书">
  <meta property="og:title" content=" Material Design之CollapsingToolbarLayout  和 TabLayout使用">
  <meta property="og:type" content="article">
  <meta property="og:url" content="http://www.jianshu.com/p/90487b60c733">
  <meta property="og:description" content="最近做项目需要做一个类似微博个人主页的界面，有个向上滑动隐藏头像部分view，然后下面的Tab滑动到顶部，所以研究了下Android两个新的布局控件CollapsingToolbarLayout...">
  <!-- End -->

  <!--  Meta for Facebook Applinks -->
  <meta property="al:ios:url" content="jianshu://notes/4404338">
  <meta property="al:ios:app_store_id" content="888237539">
  <meta property="al:ios:app_name" content="简书">

  <meta property="al:android:url" content="jianshu://notes/4404338">
  <meta property="al:android:package" content="com.jianshu.haruki">
  <meta property="al:android:app_name" content="简书">
  <!-- End -->

  <title> Material Design之CollapsingToolbarLayout  和 TabLayout使用 - 简书</title>
  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="sUQACvS7AFiqunf9t7EZ6KrG7RdOtsE0F7BxC17CpsgFe4LS/5NSUaAny7YzOKxIoIDKA7wzV/vetAhcNjEpXQ==">
  <!--[if lte IE 8]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" media="all" href="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/base-00828532d00225531ad20ff45bf311ea.css">

    <link rel="stylesheet" media="all" href="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/reading-note-a4d1e4bd26d83f631d58a76778118af6.css">
  <link rel="stylesheet" media="all" href="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/base-read-mode-5f4051bc94fc595e8bc00821aae6c3e1.css">
  <script src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/modernizr-613ea63b5aa2f0e2a1946e9c28c8eedb.js.下载"></script>
  <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if IE 8]><link rel="stylesheet" media="all" href="http://cdn-qn0.jianshu.io/assets/scaffolding/for_ie-7f1c477ffedc13c11315103e8787dc6c.css" /><![endif]-->
  <!--[if lt IE 9]><link rel="stylesheet" media="all" href="http://cdn-qn0.jianshu.io/assets/scaffolding/for_ie-7f1c477ffedc13c11315103e8787dc6c.css" /><![endif]-->
  <link href="http://baijii-common.b0.upaiyun.com/icons/favicon.ico" rel="icon">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/57-b426758a1fcfb30486f20fd073c3b8ec.png" sizes="57x57">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/72-feca4b183b9d29fd188665785dc7a7f1.png" sizes="72x72">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/76-ba757f1ad3421192ce7192170393d2b0.png" sizes="76x76">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/114-8dae53b3bcea3f06bb139e329d1edab3.png" sizes="114x114">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/120-fa315ee0177dba4c55d4f66d4129b47f.png" sizes="120x120">
      <link rel="apple-touch-icon-precomposed" href="http://cdn-qn0.jianshu.io/assets/apple-touch-icons/152-052f5799bec8fb3aa624bdc72ef5bd1d.png" sizes="152x152">

<style type="text/css"></style><style type="text/css">#gj_mini{background-image:url(http://s.pc.qq.com/navigate/adc/v3/hover-ok.png);background-repeat:no-repeat;display:block;width:58px;height:58px;background-position:0 0}#gj_shard{background-image:url(http://s.pc.qq.com/navigate/adc/v3/suipian.png);background-repeat:no-repeat;display:none;width:200px;height:200px;background-position:0 0}#gj_circle{background-image:url(http://s.pc.qq.com/navigate/adc/v3/guangquan.png);background-repeat:no-repeat;display:none;width:58px;height:58px;background-position:0 0}#gj_bar_left{background: url(http://s.pc.qq.com/navigate/adc/v3/zuo.png) no-repeat; height:42px; width :0px; font-family: "Microsoft YaHei" ! important;overflow:hidden; display:block;}#gj_bar_left #tipstext{line-height:normal;padding-left: 20px;padding-top: 3px;font-size: 12px;padding-right: 10px;color: #fff;overflow:hidden;}#gj_bar_left span{font-size: 14px;font-weight: bold;overflow:hidden;}#gj_bar_right{background: url(http://s.pc.qq.com/navigate/adc/v3/you.png) no-repeat; height:42px; width :0px; font-family: "Microsoft YaHei" ! important;overflow:hidden; display:block;}#gj_bar_right #tipstext{line-height:normal;padding-left: 20px;padding-top: 3px;font-size: 12px;padding-right: 10px;color: #fff;overflow:hidden;}#gj_bar_right span{font-size: 14px;font-weight: bold;overflow:hidden;}</style></head>

<body class="post output zh cn win reader-day-mode reader-font2" data-js-module="note-show" data-locale="zh-CN">
  
  <div class="navbar navbar-jianshu shrink">
  <div class="dropdown">
    <a class="dropdown-toggle logo" id="dLabel" role="button" data-toggle="dropdown" data-target="#" href="javascript:void(0)">
      简
    </a>
    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
      <li><a href="http://www.jianshu.com/"><i class="fa fa-home"></i> 首页</a></li>
      <li><a href="http://www.jianshu.com/collections"><i class="fa fa-th"></i> 专题</a></li>
    </ul>
  </div>
</div>
<div class="navbar-user">
    <a class="app-download-btn" href="http://www.jianshu.com/apps/download?utm_medium=top-sugg-down&amp;utm_source=web-other-page">App下载</a>
    <a class="login" data-signup-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_up">
      <i class="fa fa-user"></i> 注册
</a>    <a class="login" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
      <i class="fa fa-sign-in"></i> 登录
</a>    <a class="daytime set-view-mode pull-right" href="javascript:void(0)"><i class="fa fa-moon-o"></i></a>
</div>
<div class="navbar navbar-jianshu expanded">
  <div class="dropdown">
      <a class="active logo" role="button" data-original-title="个人主页" data-container="div.expanded" href="http://www.jianshu.com/">
        <b>简</b><i class="fa fa-home"></i><span class="title">首页</span>
</a>      <a data-toggle="tooltip" data-placement="right" data-original-title="专题" data-container="div.expanded" href="http://www.jianshu.com/collections">
        <i class="fa fa-th"></i><span class="title">专题</span>
</a>    <a class="ad-selector" href="http://www.jianshu.com/apps">
      <i class="fa fa-mobile"></i><span class="title">下载手机应用</span>
</a>    <div class="ad-container ">
      <div class="ad-pop">
        <img class="ad-logo" src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/228-0765f118055a1d942fc286fb55f37773.png" alt="228">
        <p class="ad-title">简书</p>
        <p class="ad-subtitle">交流故事，沟通想法</p>
        <img class="ad-qrcode" src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/download-app-qrcode-053849fa25f9b44573ef8dd3c118a20f.png" alt="Download app qrcode">
        <div>
          <a class="ad-link" href="https://itunes.apple.com/cn/app/jian-shu/id888237539?ls=1&amp;mt=8">iOS</a>·
          <a class="ad-link" href="http://downloads.jianshu.io/apps/haruki/JianShu-2.0.0.apk">Android</a>
        </div>
      </div>
    </div>
  </div>
  <div class="nav-user">
      <a href="http://www.jianshu.com/p/90487b60c733#view-mode-modal" data-toggle="modal"><i class="fa fa-font"></i><span class="title">显示模式</span></a>

      <a class="signin" data-signin-link="true" data-toggle="modal" data-placement="right" data-original-title="登录" data-container="div.expanded" href="http://www.jianshu.com/sign_in">
        <i class="fa fa-sign-in"></i><span class="title">登录</span>
</a>    </div>
  </div>

  
      <div class="popover-wrap">
       <div class="fixed-btn note-fixed-download" data-toggle="popover" data-placement="left" data-html="true" data-trigger="hover" data-content="&lt;img src=&quot;http://cdn-qn0.jianshu.io/assets/app-page/note-qrcode-599086b03613e4f65dce8698fe9bcc99.png&quot; alt=&quot;Note qrcode&quot; /&gt;" data-original-title="" title="">
        <a class="qrcode" href="javascript:void(0)">
          <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/icon_qrcode-1f27688ec77df5a8c6c6ea70aa181874.png" alt="Icon qrcode">
          <div>简书手机版下载</div>
</a>      </div>
    </div>
    <div class="fixed-btn">
      <a class="go-top hide-go-top" href="http://www.jianshu.com/p/90487b60c733#"> <i class="fa fa-angle-up"></i></a>
      <a class="writer" href="http://www.jianshu.com/writer#/" data-toggle="tooltip" data-placement="left" title="" data-original-title="写篇文章"><i class="fa fa-pencil"></i></a>
    </div>


  <div id="show-note-container" class="imagebubble-container imagebubble-mode-off">
    
<div class="post-bg" id="flag">
  <div class="wrap-btn" style="top: -1px;">
    <!-- Notebook and collections button upper left -->
      <div class="article-related pull-left">
          <a data-toggle="tooltip" data-placement="bottom" data-original-title="未加入专题" href="javascript:void(null);">
            <i class="fa fa-th"></i>
</a>          <a class="notebooks-menu-btn" data-toggle="modal" data-target="#notebooks-menu" href="javascript:void(null);"><i class="fa fa-list-ul"></i></a>
        <div class="related-avatar-group activities"></div>
      </div>
    <!-- ******* -->

      <a class="app-download-btn" href="http://www.jianshu.com/apps/download?utm_medium=top-sugg-down&amp;utm_source=note-show">App下载</a>
  <a class="login" data-signup-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_up">
    <i class="fa fa-user"></i> 注册
</a>  <a class="login" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
    <i class="fa fa-sign-in"></i> 登录
</a>

    <!-- Buttons upper right -->
    <!-- ******* -->
  </div>

  <div class="container">
    <!-- Article activities for width under 768px -->
    <div class="related-avatar-group activities"></div>
      <div class="article">
        <div class="preview">
          <div class="author-info">
              <div class="btn btn-small btn-success follow">
    <a data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in"><i class="fa fa-plus"></i>  <span>添加关注</span></a>
  </div>

            <a class="avatar" href="http://www.jianshu.com/users/7f811ce2f5e6">
              <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/5a17e6fe8b33" alt="100">
</a>            <span class="label">
                作者
            </span>
            <a class="author-name blue-link" href="http://www.jianshu.com/users/7f811ce2f5e6">
              <span>LeeTaLon</span>
</a>              <span data-toggle="tooltip" data-original-title="最后编辑于 2016.06.16 15:48">2016.06.16 13:44*</span>
            <div>
              <span>写了3612字</span>，<span>被5人关注</span>，<span>获得了22个喜欢</span>
            </div>
          </div>
          <h1 class="title"> Material Design之CollapsingToolbarLayout  和 TabLayout使用</h1>
          <div class="meta-top">
            <span class="wordage">字数1118</span>
            <span class="views-count">阅读246</span>
            <span class="comments-count">评论0</span>
            <span class="likes-count">喜欢7</span>
          </div>

          <!-- Collection/Bookmark/Share for width under 768px -->
          <div class="article-share"><a class="bookmark" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in"> <i class="fa fa-bookmark-o"></i><span>收藏文章</span></a><span> <a href="javascript:void(null)" data-toggle="dropdown"><i class="fa fa-share-square-o"></i> 分享</a> <ul class="dropdown-menu arrow-top"> <li> <a href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f=&#39;http://v.t.sina.com.cn/share/share.php?appkey=1881139527&#39;,u=z||d.location,p=[&#39;&amp;url=&#39;,e(u),&#39;&amp;title=&#39;,e(t||d.title),&#39;&amp;source=&#39;,e(r),&#39;&amp;sourceUrl=&#39;,e(l),&#39;&amp;content=&#39;,c||&#39;gb2312&#39;,&#39;&amp;pic=&#39;,e(p||&#39;&#39;)].join(&#39;&#39;);function%20a(){if(!window.open([f,p].join(&#39;&#39;),&#39;mb&#39;,[&#39;toolbar=0,status=0,resizable=1,width=440,height=430,left=&#39;,(s.width-440)/2,&#39;,top=&#39;,(s.height-430)/2].join(&#39;&#39;)))u.href=[f,p].join(&#39;&#39;);};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,&#39;&#39;,&#39;&#39;,&#39;http://cwb.assets.jianshu.io/notes/images/4404338/weibo/image_deab2469c7c0.jpg&#39;, &#39;推荐 @LeeTaLon 的文章《 Material Design之CollapsingToolbarLayout  和 TabLayout使用》（ 分享自 @简书 ）&#39;,&#39;http://www.jianshu.com/p/90487b60c733&#39;,&#39;页面编码gb2312|utf-8默认gb2312&#39;));"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/weibo.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:&#39;&#39;,r=&#39;http://www.douban.com/recommend/?url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;)+&#39;&amp;title=&#39;+e(&#39; Material Design之CollapsingToolbarLayout  和 TabLayout使用&#39;)+&#39;&amp;sel=&#39;+e(s)+&#39;&amp;v=1&#39;,x=function(){if(!window.open(r,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r+&#39;&amp;r=1&#39;};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/douban.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 LeeTaLon 的文章《 Material Design之CollapsingToolbarLayout  和 TabLayout使用》（ 分享自 @jianshuio ）&#39;),x=function(){if(!window.open(r,&#39;tweibo&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/tweibo.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 LeeTaLon 的文章《 Material Design之CollapsingToolbarLayout  和 TabLayout使用》&#39;),x=function(){if(!window.open(r,&#39;qzone&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/qzone.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://twitter.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;)+&#39;&amp;text=&#39;+e(&#39;推荐 LeeTaLon 的文章《 Material Design之CollapsingToolbarLayout  和 TabLayout使用》（ 分享自 @jianshucom ）&#39;)+&#39;&amp;related=&#39;+e(&#39;jianshucom&#39;),x=function(){if(!window.open(r,&#39;twitter&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/twitter.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=http://www.jianshu.com/p/90487b60c733&#39;,x=function(){if(!window.open(r,&#39;facebook&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/facebook.png"> </a> </li> <li> <a href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://plus.google.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;),x=function(){if(!window.open(r,&#39;google_plus&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/google_plus.png"> </a> </li> <li> <a href="http://www.jianshu.com/p/90487b60c733"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/renren.png"> </a> </li> </ul></span></div>
          <!-- -->

          <div class="show-content"><p>最近做项目需要做一个类似微博个人主页的界面，有个向上滑动隐藏头像部分view，然后下面的Tab 滑动到顶部，所以研究了下Android 两个新的布局控件CollapsingToolbarLayout和TabLayout的使用，先上图：</p>
<div class="image-package imagebubble" widget="ImageBubble">
<img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/1673277-fc6a49185905ef06.png" data-original-src="http://upload-images.jianshu.io/upload_images/1673277-fc6a49185905ef06.png?imageMogr2/auto-orient/strip%7CimageView2/2" class="imagebubble-image"><br><div class="image-caption">11111111111111.png</div>
</div>
<p>  AppBarLayout 是继承LinerLayout实现的一个ViewGroup容器组件，它是为了Material Design设计的App Bar，支持手势滑动操作。默认的AppBarLayout是垂直方向的，它的作用是把AppBarLayout包裹的内容都作为AppBar。</p>
<p>  CollapsingToolbarLayout作用是提供了一个可以折叠的Toolbar，它继承至FrameLayout，给它设置layout_scrollFlags，它可以控制包含在CollapsingToolbarLayout中的控件(如：ImageView、Toolbar)在响应layout_behavior事件时作出相应的scrollFlags滚动事件(移除屏幕或固 定在屏幕顶端)。 </p>
<p> TabLayout提供了一个水平的布局用来展示Tabs。它和Viewpager一起使用可以实现当下很多app的导航效果。如 网易新闻、简书客户端等。现在看代码：</p>
<pre class="hljs xml"><code class="xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">android.support.design.widget.CoordinatorLayout</span>     <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>
<span class="hljs-attribute">xmlns:app</span>=<span class="hljs-value">"http://schemas.android.com/apk/res-auto"</span>
<span class="hljs-attribute">xmlns:tools</span>=<span class="hljs-value">"http://schemas.android.com/tools"</span>
<span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
<span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>
<span class="hljs-attribute">tools:context</span>=<span class="hljs-value">".acitivity.MainActivity"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">android.support.design.widget.AppBarLayout</span>
    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"260dp"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">android.support.design.widget.CollapsingToolbarLayout</span>
        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"0dp"</span>
        <span class="hljs-attribute">android:layout_weight</span>=<span class="hljs-value">"1"</span>
        <span class="hljs-attribute">app:layout_scrollFlags</span>=<span class="hljs-value">"scroll|exitUntilCollapsed"</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">RelativeLayout</span>
            <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/backdrop"</span>
            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>
            <span class="hljs-attribute">android:layout_marginTop</span>=<span class="hljs-value">"50dp"</span>
            <span class="hljs-attribute">app:layout_collapseMode</span>=<span class="hljs-value">"parallax"</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span>
                <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/image"</span>
                <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"80dp"</span>
                <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"80dp"</span>
                <span class="hljs-attribute">android:layout_centerHorizontal</span>=<span class="hljs-value">"true"</span>
                <span class="hljs-attribute">android:layout_marginTop</span>=<span class="hljs-value">"10dp"</span>
                <span class="hljs-attribute">android:src</span>=<span class="hljs-value">"@mipmap/ic_launcher"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">TextView</span>
                <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/tip"</span>
                <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"wrap_content"</span>
                <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
                <span class="hljs-attribute">android:layout_below</span>=<span class="hljs-value">"@+id/image"</span>
                <span class="hljs-attribute">android:layout_centerHorizontal</span>=<span class="hljs-value">"true"</span>
                <span class="hljs-attribute">android:layout_marginTop</span>=<span class="hljs-value">"7dp"</span>
                <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"我是沙拉 不是能吃的沙拉"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">RelativeLayout</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">android.support.v7.widget.Toolbar</span>
            <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/toolbar"</span>
            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"50dp"</span>
            <span class="hljs-attribute">app:contentInsetStart</span>=<span class="hljs-value">"0dp"</span>
            <span class="hljs-attribute">app:layout_collapseMode</span>=<span class="hljs-value">"pin"</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">RelativeLayout</span>
                <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
                <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>
                <span class="hljs-attribute">android:background</span>=<span class="hljs-value">"@android:color/white"</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-title">TextView</span>
                    <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/titlename"</span>
                    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"wrap_content"</span>
                    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
                    <span class="hljs-attribute">android:layout_centerInParent</span>=<span class="hljs-value">"true"</span>
                    <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"个人中心"</span>
                    <span class="hljs-attribute">android:textColor</span>=<span class="hljs-value">"@android:color/background_dark"</span>
                    <span class="hljs-attribute">android:textSize</span>=<span class="hljs-value">"18sp"</span> /&gt;</span>

            <span class="hljs-tag">&lt;/<span class="hljs-title">RelativeLayout</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">android.support.v7.widget.Toolbar</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-title">android.support.design.widget.CollapsingToolbarLayout</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">android.support.design.widget.TabLayout</span>
        <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/tabs"</span>
        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"50dp"</span>
        <span class="hljs-attribute">android:background</span>=<span class="hljs-value">"@android:color/white"</span> /&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-title">android.support.design.widget.AppBarLayout</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">ln.talon.com.coordinatorlayout.view.NoScrollViewPager</span>
    <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/ucvp"</span>
    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">app:layout_behavior</span>=<span class="hljs-value">"@string/appbar_scrolling_view_behavior"</span> /&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">android.support.design.widget.CoordinatorLayout</span>&gt;</span>')`</code></pre>
<p> 注意:</p>
<ol>
<li>这里toolbar的属性    app:layout_collapseMode=”pin”来确保Toolbar在view折叠的时候仍然被固定在屏幕的顶部。</li>
<li>CoolapsingToolbarLayout属性 app:layout_scrollFlags="scroll|exitUntilCollapsed",显然想让CoordinatorLayout滚动必须设置sroll属性。<br>3.这里使用tabLayout和viewPager实现四个Tab的导航切换,由于viewpager默认的左右滑动事件与CoolapsingToolbarLayout 滑动有些冲突，这里自定义了一个禁止左右滑动的ViewPager。<br>Activitiy代码如下：</li>
</ol>
<pre class="hljs scala"><code class="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">AppCompatActivity</span> {</span>
<span class="hljs-keyword">private</span> <span class="hljs-type">ViewPager</span> mViewPager;
<span class="hljs-keyword">private</span> <span class="hljs-type">TabLayout</span> tabLayout;
<span class="hljs-keyword">private</span> <span class="hljs-type">SectionsPagerAdapter</span> mSectionsPagerAdapter;
<span class="hljs-keyword">private</span> static <span class="hljs-keyword">final</span> int <span class="hljs-type">ViewPagerCount</span> = <span class="hljs-number">4</span>;
<span class="hljs-keyword">private</span> <span class="hljs-type">LayoutInflater</span> layoutInflater;
<span class="hljs-keyword">private</span> <span class="hljs-type">String</span>[] tabs = {<span class="hljs-string">"first"</span>, <span class="hljs-string">"second"</span>, <span class="hljs-string">"third"</span>, <span class="hljs-string">"fourth"</span>};

<span class="hljs-annotation">@Override</span>
<span class="hljs-keyword">protected</span> void onCreate(<span class="hljs-type">Bundle</span> savedInstanceState) {
    <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
    setContentView(<span class="hljs-type">R</span>.layout.activity_main);
    layoutInflater = <span class="hljs-type">LayoutInflater</span>.from(<span class="hljs-keyword">this</span>);
    mSectionsPagerAdapter = <span class="hljs-keyword">new</span> <span class="hljs-type">SectionsPagerAdapter</span>(getSupportFragmentManager());
    mViewPager = (<span class="hljs-type">ViewPager</span>) findViewById(<span class="hljs-type">R</span>.id.ucvp);
    mViewPager.setAdapter(mSectionsPagerAdapter);

    tabLayout = (<span class="hljs-type">TabLayout</span>) findViewById(<span class="hljs-type">R</span>.id.tabs);
    tabLayout.setupWithViewPager(mViewPager);
    tabLayout.setTabGravity(<span class="hljs-type">TabLayout</span>.<span class="hljs-type">GRAVITY_FILL</span>);
    <span class="hljs-keyword">for</span> (int i = <span class="hljs-number">0</span>; i &lt; tabLayout.getTabCount(); i++) {
        <span class="hljs-type">TabLayout</span>.<span class="hljs-type">Tab</span> tab = tabLayout.getTabAt(i);
        tab.setCustomView(getTabItemView(i));
    }

}
<span class="hljs-keyword">private</span> <span class="hljs-type">View</span> getTabItemView(int index) {
    <span class="hljs-type">View</span> view = layoutInflater.inflate(<span class="hljs-type">R</span>.layout.tabview, <span class="hljs-literal">null</span>);
    <span class="hljs-type">TextView</span> textView = (<span class="hljs-type">TextView</span>) view.findViewById(<span class="hljs-type">R</span>.id.tabname);
    textView.setText(tabs[index]);
    <span class="hljs-keyword">return</span> view;
}

<span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SectionsPagerAdapter</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">FragmentPagerAdapter</span> {</span>
    public <span class="hljs-type">SectionsPagerAdapter</span>(<span class="hljs-type">FragmentManager</span> fm) {
        <span class="hljs-keyword">super</span>(fm);
    }

    <span class="hljs-annotation">@Override</span>
    public <span class="hljs-type">Fragment</span> getItem(int position) {
        <span class="hljs-type">Fragment</span> fragment = <span class="hljs-literal">null</span>;
        switch (position) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                fragment = <span class="hljs-type">FirstFragment</span>.newInstance(<span class="hljs-number">12</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                fragment = <span class="hljs-type">SecondFragment</span>.newInstance(<span class="hljs-number">30</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                fragment = <span class="hljs-type">ThirdFragment</span>.newInstance(<span class="hljs-number">21</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
                fragment = <span class="hljs-type">FourthFragment</span>.newInstance(<span class="hljs-number">14</span>);
                <span class="hljs-keyword">break</span>;

        }
        <span class="hljs-keyword">return</span> fragment;
    }

    <span class="hljs-annotation">@Override</span>
    public int getCount() {
        <span class="hljs-keyword">return</span> <span class="hljs-type">ViewPagerCount</span>;
    }
}</code></pre>
<p>  另附上不可滑动ViewPager代码：</p>
<pre class="hljs java"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NoScrollViewPager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ViewPager</span> </span>{
<span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> noScroll = <span class="hljs-keyword">true</span>;

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NoScrollViewPager</span><span class="hljs-params">(Context context, AttributeSet attrs)</span> </span>{
  <span class="hljs-keyword">super</span>(context, attrs);
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NoScrollViewPager</span><span class="hljs-params">(Context context)</span> </span>{
  <span class="hljs-keyword">super</span>(context);
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setNoScroll</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> noScroll)</span> </span>{
  <span class="hljs-keyword">this</span>.noScroll = noScroll;
}

<span class="hljs-annotation">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">scrollTo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{
  <span class="hljs-keyword">super</span>.scrollTo(x, y);
}

<span class="hljs-annotation">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onTouchEvent</span><span class="hljs-params">(MotionEvent arg0)</span> </span>{
  <span class="hljs-keyword">if</span> (noScroll)
     <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
  <span class="hljs-keyword">else</span>
     <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.onTouchEvent(arg0);
}

<span class="hljs-annotation">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent arg0)</span> </span>{
  <span class="hljs-keyword">if</span> (noScroll)
     <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
  <span class="hljs-keyword">else</span>
     <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.onInterceptTouchEvent(arg0);
}

<span class="hljs-annotation">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCurrentItem</span><span class="hljs-params">(<span class="hljs-keyword">int</span> item, <span class="hljs-keyword">boolean</span> smoothScroll)</span> </span>{
  <span class="hljs-keyword">super</span>.setCurrentItem(item, smoothScroll);
}

<span class="hljs-annotation">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCurrentItem</span><span class="hljs-params">(<span class="hljs-keyword">int</span> item)</span> </span>{
  <span class="hljs-keyword">super</span>.setCurrentItem(item);
}}</code></pre>
<h5>源码在github上，附地址：(<a href="https://github.com/lixiaote/CoordinatorLayout" target="_blank">https://github.com/lixiaote/CoordinatorLayout</a>)</h5>
</div>
        </div>
      </div>

      <div class="visitor_edit">
        <!-- further readings -->
        <div id="further-readings" data-user-slug="" data-user-nickname="">
          <div id="further-reading-line" class="hide further-reading-line"></div>
          <ul id="further-readings-list" class="reading-list unstyled"></ul>
          <div id="further-reading-new" class="reading-edit">
              <a data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
                <i class="fa fa-plus-circle"></i> 推荐拓展阅读
</a>            <div id="further-reading-form"></div>
          </div>
        </div>
        <div class="pull-right">
          <!-- copyright -->
          <div class="author-copyright pull-right" data-toggle="tooltip" data-html="true" title="" data-original-title="转载请联系作者获得授权，并标注“简书作者”。">
            <a><i class="fa fa-copyright"></i> 著作权归作者所有</a>
          </div>
        </div>
      </div>

      <!-- Reward / Support Author -->
        <div class="support-author">
          <p>如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作！</p>
            <a class="btn btn-pay" data-toggle="modal" href="http://www.jianshu.com/p/90487b60c733#pay-modal">¥ 打赏支持</a>
          <div class="avatar-list"></div>
        </div>

      <!-- article meta bottom -->
      <div class="meta-bottom clearfix">
        <!--  Like Button -->
        <div class="like ">
            <div class="like-button">
              <a id="like-note" class="like-content" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
                <i class="fa fa-heart-o"></i>  喜欢
</a></div>          <span id="likes-count" data-toggle="tooltip" data-placement="right" title="" data-original-title="查看所有喜欢的用户">7</span>        </div>
        <!--  share group -->
        <div class="share-group pull-right">
          <a href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f=&#39;http://v.t.sina.com.cn/share/share.php?appkey=1881139527&#39;,u=z||d.location,p=[&#39;&amp;url=&#39;,e(u),&#39;&amp;title=&#39;,e(t||d.title),&#39;&amp;source=&#39;,e(r),&#39;&amp;sourceUrl=&#39;,e(l),&#39;&amp;content=&#39;,c||&#39;gb2312&#39;,&#39;&amp;pic=&#39;,e(p||&#39;&#39;)].join(&#39;&#39;);function%20a(){if(!window.open([f,p].join(&#39;&#39;),&#39;mb&#39;,[&#39;toolbar=0,status=0,resizable=1,width=440,height=430,left=&#39;,(s.width-440)/2,&#39;,top=&#39;,(s.height-430)/2].join(&#39;&#39;)))u.href=[f,p].join(&#39;&#39;);};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,&#39;&#39;,&#39;&#39;,&#39;http://cwb.assets.jianshu.io/notes/images/4404338/weibo/image_deab2469c7c0.jpg&#39;, &#39;推荐 @LeeTaLon 的文章《 Material Design之CollapsingToolbarLayout  和 TabLayout使用》（ 分享自 @简书 ）&#39;,&#39;http://www.jianshu.com/p/90487b60c733&#39;,&#39;页面编码gb2312|utf-8默认gb2312&#39;));" data-name="weibo">
            <i class="fa fa-weibo"></i><span>分享到微博</span>
          </a>
          <a data-toggle="modal" href="http://www.jianshu.com/p/90487b60c733#share-weixin-modal" data-name="weixin">
            <i class="fa fa-weixin"></i><span>分享到微信</span>
          </a>
          <div class="more">
            <a href="javascript:void(0)" data-toggle="dropdown">更多分享<i class="fa fa-caret-down"></i></a>
            <ul class="dropdown-menu arrow-top">
                <li><a href="http://cwb.assets.jianshu.io/notes/images/4404338/weibo/image_deab2469c7c0.jpg" target="_blank" data-name="changweibo"><i class="fa fa-arrow-circle-o-down"></i> 下载长微博图片</a></li>
                <li>
                  <a data-name="tweibo" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 LeeTaLon 的文章《 Material Design之CollapsingToolbarLayout  和 TabLayout使用》（ 分享自 @jianshuio ）&#39;),x=function(){if(!window.open(r,&#39;tweibo&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/tweibo.png" alt="Tweibo"> 分享到腾讯微博
</a>                </li>
                <li>
                  <a data-name="qzone" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 LeeTaLon 的文章《 Material Design之CollapsingToolbarLayout  和 TabLayout使用》&#39;),x=function(){if(!window.open(r,&#39;qzone&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/qzone.png" alt="Qzone"> 分享到QQ空间
</a>                </li>
                <li>
                  <a data-name="twitter" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://twitter.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;)+&#39;&amp;text=&#39;+e(&#39;推荐 LeeTaLon 的文章《 Material Design之CollapsingToolbarLayout  和 TabLayout使用》（ 分享自 @jianshucom ）&#39;)+&#39;&amp;related=&#39;+e(&#39;jianshucom&#39;),x=function(){if(!window.open(r,&#39;twitter&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/twitter.png" alt="Twitter"> 分享到Twitter
</a>                </li>
                <li>
                  <a data-name="facebook" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=http://www.jianshu.com/p/90487b60c733&#39;,x=function(){if(!window.open(r,&#39;facebook&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/facebook.png" alt="Facebook"> 分享到Facebook
</a>                </li>
                <li>
                  <a data-name="google_plus" href="javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://plus.google.com/share?url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;),x=function(){if(!window.open(r,&#39;google_plus&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();">
                    <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/google_plus.png" alt="Google plus"> 分享到Google+
</a>                </li>
                <li>
                  <a data-name="douban" href="javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:&#39;&#39;,r=&#39;http://www.douban.com/recommend/?url=&#39;+e(&#39;http://www.jianshu.com/p/90487b60c733&#39;)+&#39;&amp;title=&#39;+e(&#39; Material Design之CollapsingToolbarLayout  和 TabLayout使用&#39;)+&#39;&amp;sel=&#39;+e(s)+&#39;&amp;v=1&#39;,x=function(){if(!window.open(r,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r+&#39;&amp;r=1&#39;};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()">
                    <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/douban.png" alt="Douban"> 分享到豆瓣
</a>                </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Modals -->
      <div id="share-weixin-modal" class="modal hide fade share-weixin-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
  </div>
  <div class="modal-body" title="http://www.jianshu.com/p/90487b60c733?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=weixin">
    <h5>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</h5>
  <canvas width="170" height="170" style="display: none;"></canvas><img src="data:image/png;base64,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" style="display: block;"></div>
</div>

      
      <div id="notebooks-menu" class="panel notebooks-menu arrow-top modal hide fade"><img class="loader-tiny" src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/tiny.gif" alt="Tiny"></div>
      <div id="collection-menu" class="panel collection-menu arrow-top modal hide fade"><img class="loader-tiny" src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/tiny.gif" alt="Tiny"></div>
      
      <div id="likes-modal" class="modal modal_new support_list-modal fullscreen hide fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3>喜欢的用户</h3>
      </div>
      <div class="modal-body">
        <ul class="unstyled users">
        <li data-user-id="1673277"> <a class="avatar" href="http://www.jianshu.com/users/7f811ce2f5e6"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/5a17e6fe8b33"> </a> <a class="blue-link" href="http://www.jianshu.com/users/7f811ce2f5e6">LeeTaLon</a> <span class="time">2016.11.13 20:54</span></li><li data-user-id="3401459"> <a class="avatar" href="http://www.jianshu.com/users/e874dc518a41"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/c753b107fa26"> </a> <a class="blue-link" href="http://www.jianshu.com/users/e874dc518a41">小殷的微博世界2</a> <span class="time">2016.11.09 11:49</span></li><li data-user-id="587163"> <a class="avatar" href="http://www.jianshu.com/users/185028550381"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/46f853124f02"> </a> <a class="blue-link" href="http://www.jianshu.com/users/185028550381">_小马快跑_</a> <span class="time">2016.09.06 15:12</span></li><li data-user-id="2459621"> <a class="avatar" href="http://www.jianshu.com/users/262c6a8218b8"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/80313d5c98ee"> </a> <a class="blue-link" href="http://www.jianshu.com/users/262c6a8218b8">Cc郑满彬</a> <span class="time">2016.08.18 04:28</span></li><li data-user-id="2413316"> <a class="avatar" href="http://www.jianshu.com/users/77699cd41b28"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/d6ae168a6ca7.jpeg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/77699cd41b28">Pape</a> <span class="time">2016.08.02 20:07</span></li><li data-user-id="2374667"> <a class="avatar" href="http://www.jianshu.com/users/c171dd48f072"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/2-65a6e6d032559f3c53475eb61d7ea573.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/c171dd48f072">Damon_H</a> <span class="time">2016.08.02 16:00</span></li><li data-user-id="1056832"> <a class="avatar" href="http://www.jianshu.com/users/229b3751c049"> <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/15-57a3e97082943073824a3529187f31f9.jpg"> </a> <a class="blue-link" href="http://www.jianshu.com/users/229b3751c049">ljzh2000</a> <span class="time">2016.07.01 23:09</span></li></ul>
      </div>
    </div>
  </div>
</div>



    <!-- Comments -->
    <div id="comments" class="comment-list clearfix">
        <div class="comment-head clearfix">
          0条评论
          <span class="order">
            （
            <a data-order="asc" class="active" href="javascript:void(0)">按时间正序</a>·
            <a data-order="desc" href="javascript:void(0)">按时间倒序</a>·
            <a data-order="likes_count" href="javascript:void(0)">按喜欢排序</a>
            ）
          </span>
            <a class="goto-comment pull-right" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
              <i class="fa fa-pencil"></i>添加新评论
</a>        </div>
        <div id="comment-list">



  <p class="load-more">没有更多评论了</p>
</div>
          <p class="signout-comment">
    <a class="btn btn-info" data-signin-link="true" data-toggle="modal" href="http://www.jianshu.com/sign_in">
      登录后发表评论
</a>  </p>

    </div>
    <!-- -->

  </div>

  <script type="application/json" data-name="note">
    {"id":4404338,"abbr":"最近做项目需要做一个类似微博个人主页的界面，有个向上滑动隐藏头像部分view，然后下面的Tab滑动到顶部，所以研究了下Android两个新的布局控件CollapsingToolbarLayout和TabLayout的使用，先上图：11111111111111.pngAppBarLayout是继承LinerLayout实现的一个ViewGroup容器组件，它是为了MaterialDesign设计的AppBar，支持手势滑动操作。默认的AppBarLayout是垂直方向的，它的作用是把AppBarLayout包裹的内容都作为AppBar。Col...","slug":"90487b60c733","url":"http://www.jianshu.com/p/90487b60c733","image_url":"http://cwb.assets.jianshu.io/notes/images/4404338/weibo/image_deab2469c7c0.jpg","wordage":1118,"has_further_readings":false,"views_count":246,"likes_count":7,"comments_count":0,"rewards_total_count":0}
  </script>

  <script type="application/json" data-name="uuid">
    {"uuid":"684c1f13-39c1-4ea1-a0eb-d314646c18e9"}
  </script>

  <script type="application/json" data-name="author">
    {"id":1673277,"nickname":"LeeTaLon","slug":"7f811ce2f5e6","public_notes_count":3,"followers_count":5,"total_likes_count":22,"is_current_user":false,"is_signed_author":false}
  </script>


  <div class="include-collection">
    <div class="content">

      
    </div>
  </div>

  <!-- Modal -->
    <div class="modal pay-modal text-center hide fade" id="pay-modal">
  <div class="modal-header clearfix">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
  </div>
  <form id="new_reward" class="new_reward" target="_blank" action="http://www.jianshu.com/notes/4404338/rewards" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="sUQACvS7AFiqunf9t7EZ6KrG7RdOtsE0F7BxC17CpsgFe4LS/5NSUaAny7YzOKxIoIDKA7wzV/vetAhcNjEpXQ==">
    <div class="modal-body">
      <a href="http://www.jianshu.com/users/7f811ce2f5e6">
        <div class="avatar"><img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/5a17e6fe8b33" alt="100"></div>
</a>      <p><i class="fa fa-quote-left pull-left"></i>如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作！<i class="fa fa-quote-right pull-right"></i></p>
      <div class="main-inputs text-left">
        <div class="control-group">
          <label for="reward_amount">打赏金额</label><i class="fa fa-yen"></i>
          <input value="2.00" type="text" name="reward[amount_in_yuan]" id="reward_amount_in_yuan">
        </div>
        <div class="control-group message">
          <textarea placeholder="给Ta留言" name="reward[message]" id="reward_message"></textarea>
        </div>
      </div>
      <div class="choose-pay text-left">
        <h5>选择支付方式：</h5>
        <div>
          <label for="reward_channel_alipay">
            <div class="iradio_minimal checked" style="position: relative;"><input type="radio" value="alipay" checked="checked" name="reward[channel]" id="reward_channel_alipay" style="position: absolute; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>
            <span class="alipay-bg"></span>
</label>
          
          <label for="reward_channel_wx_pub_qr">
            <div class="iradio_minimal" style="position: relative;"><input type="radio" value="wx_pub_qr" name="reward[channel]" id="reward_channel_wx_pub_qr" style="position: absolute; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>
            微信支付
</label>        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button name="button" type="submit" class="btn btn-large btn-pay">立即支付</button>
    </div>
</form></div>

    <div class="modal success-pay text-center hide fade" id="success-pay">
  <div class="modal-header clearfix">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
  </div>
  <div class="modal-body">
    <h3><i class="icon-ok"></i>打赏成功</h3>
    <img src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/complete-pay-25426877089eb23bd76d9d0e6aad89c1.png" alt="Complete pay">
  </div>
  <div class="modal-footer">
    
  </div>
</div>

</div>

  <div class="imagebubble-backmask image-package" style="z-index: 1000;"><div class="image-caption">11111111111111.png</div><img class="imagebubble-ghost" src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/1673277-fc6a49185905ef06(1).png" style="top: 432px; left: 610.5px; width: 512px; height: 384px;"></div></div>
  <div id="flash" class="hide"></div>
  
  <div id="view-mode-modal" tabindex="-1" class="modal hide read-modal" aria-hidden="false" data-js-module="view-mode-modal">
    <div class="btn-group change-background" data-toggle="buttons-radio">
      <a class="btn btn-daytime active" data-mode="day" href="javascript:void(null);">
        <i class="fa fa-sun-o"></i>
</a>      <a class="btn btn-nighttime " data-mode="night" href="javascript:void(null);">
        <i class="fa fa-moon-o"></i>
</a>    </div>
    <div class="btn-group change-font" data-toggle="buttons-radio">
      <a class="btn font " data-font="font1" href="javascript:void(null);">宋体</a>
      <a class="btn font hei active" data-font="font2" href="javascript:void(null);">黑体</a>
    </div>
    <div class="btn-group change-locale" data-toggle="buttons-radio">
      <a class="btn font active" data-locale="zh-CN" href="javascript:void(null);">简</a>
      <a class="btn font hei " data-locale="zh-TW" href="javascript:void(null);">繁</a>
    </div>
  </div>

  

  <script src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/base-90f2ea0f7da77d330f3fe2acdcf5d595.js.下载"></script>
  
  <script src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/reading-base-0028299ec0c770293c0f07e2f338b48f.js.下载"></script>
  <script src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/note_show-cc5c20512664aad53acca20308dd4d1c.js.下载"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35169517-1', 'auto');
  ga('send', 'pageview');
</script>

<div style="display:none">
  <script src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/z_stat.php" language="JavaScript"></script><script src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=1258679142" target="_blank" title="站长统计">站长统计</a>
</div>

<script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
</script>



<div id="gj_NavDiv" style="position: fixed; z-index: 2147483640; right: 0px; width: 0px; height: 0px; bottom: 59px; display: block;"><iframe src="./Material Design之CollapsingToolbarLayout 和 TabLayout使用 - 简书_files/adcpage.html" id="gj_SafeDaohang" frameborder="0" scrolling="0" allowtransparency="true" width="100%" height="100%" noresize="noresize" style="position: fixed; z-index: 2147483640; right: 0px; width: 0px; height: 0px; bottom: 99px; border: 0px none;"></iframe></div><div id="gj_mini" style="right: 10px; bottom: 50px; display: block; position: fixed; z-index: 2147483641; background-image: url(&quot;http://s.pc.qq.com/navigate/adc/v3/hover-ok.png&quot;); background-position: 0px 0px;"></div><div id="gj_shard" style="right: -70px; bottom: -20px; position: fixed; z-index: 2147483643; display: none;"></div><div id="gj_circle" style="position: fixed; z-index: 2147483642;"></div><div id="gj_bar_left" style="right: 60px; bottom: 58px; position: fixed; z-index: 2147483640; width: 0px;"><div id="tipstext" style="white-space:nowrap;font-size: 14px;font-weight: bold;overflow:hidden;">0个广告已降服</div><div id="tipstext" style="color:#CFDFFE;overflow:hidden;padding-top:0px;white-space: nowrap;">可以清爽的上网了~</div></div></body></html>